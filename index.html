<html>
<body>
<h1>Geveo Monthly Tech Challenge 1</h1>

<script type="text/javascript">
  (function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) return;
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/en_GB/sdk.js#xfbml=1&version=v2.3";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));
  
  window.fbAsyncInit = function() {
    FB.init({
      appId      : '667409033402973',
      xfbml      : true,
      version    : 'v2.3'
    });
  };
  window.onload= function(){
    FB.Event.subscribe('auth.statusChange', function(response) {
    //Log.info('Status Change Event', response);
    if (response.status === 'connected') {
      showAccountInfo();
    } else {
      document.getElementById('accountInfo').innerHTML = 'Please log in to your facebook account.';
    }
  });
  
  FB.getLoginStatus(function(response) {
    //Log.info('Login Status', response);
    if (response.status === 'connected') {
      showAccountInfo();
    } else {
      document.getElementById('accountInfo').innerHTML = 'Please log in to your facebook account.';
    }
  });

  function showAccountInfo() {
    FB.api('/me?fields=name,picture', function(response) {
      //Log.info('API response', response);
      document.getElementById('accountInfo').innerHTML = ('<img src="' + response.picture.data.url + '"> ' + response.name);
    });
  }
  }
</script>
<div id="accountInfo" style="padding-top: 20px">Please log in to your facebook account.</div>
<div class="fb-login-button" id="loginBtn" data-max-rows="1" data-size="medium" data-auto-logout-link="true"></div>
</body>
</html>
